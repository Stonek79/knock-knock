/**
 * CSS-модуль для компонента Button.
 * Использует CSS-переменные из index.css для интеграции с дизайн-системой.
 */

/* Базовые стили кнопки */
.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    border-radius: var(--radius-glass, var(--kk-radius-md));
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
    border: var(--border-width-base) solid transparent;
    outline: none;
    font-family: inherit;
    text-decoration: none;
}

.button:focus-visible {
    box-shadow: 0 0 0 var(--border-width-focus) var(--btn-color-main);
}

.button:disabled {
    opacity: var(--opacity-disabled);
    cursor: not-allowed;
    pointer-events: none;
}

/* ============================================= */
/* Намерения (Intents) -> Локальные переменные */
/* ============================================= */

.primary {
    --btn-color-main: var(--accent-primary);
    --btn-color-alpha: color-mix(
        in srgb,
        var(--accent-primary) 15%,
        transparent
    );
    --btn-color-text-on-main: var(--bubble-out-fg);
    --btn-color-text-on-clear: var(--accent-primary);
}

.secondary {
    --btn-color-main: var(--muted-foreground);
    --btn-color-alpha: color-mix(in srgb, var(--muted) 30%, transparent);
    --btn-color-text-on-main: var(--surface);
    --btn-color-text-on-clear: var(--foreground);
}

.danger {
    --btn-color-main: var(--color-error);
    --btn-color-alpha: var(--color-error-alpha);
    --btn-color-text-on-main: var(--color-white);
    --btn-color-text-on-clear: var(--color-error);
}

.success {
    --btn-color-main: var(--color-success);
    --btn-color-alpha: var(--color-success-alpha);
    --btn-color-text-on-main: var(--color-white);
    --btn-color-text-on-clear: var(--color-success);
}

.warning {
    --btn-color-main: var(--color-warning);
    --btn-color-alpha: var(--color-warning-alpha);
    --btn-color-text-on-main: var(--color-black);
    --btn-color-text-on-clear: var(--color-warning);
}

.info {
    --btn-color-main: var(--accent-secondary);
    --btn-color-alpha: color-mix(
        in srgb,
        var(--accent-secondary) 15%,
        transparent
    );
    --btn-color-text-on-main: var(--color-white);
    --btn-color-text-on-clear: var(--accent-secondary);
}

.neutral {
    --btn-color-main: var(--muted);
    --btn-color-alpha: var(--glass-hover-bg);
    --btn-color-text-on-main: var(--foreground);
    --btn-color-text-on-clear: var(--foreground);
}

/* ============================================= */
/* Варианты (Variants) */
/* ============================================= */

/* Solid - основная кнопка */
.solid {
    background: var(--btn-color-main);
    color: var(--btn-color-text-on-main);
    border-color: transparent;
}

.solid:hover {
    filter: brightness(1.1);
    box-shadow: var(--shadow-glow) var(--btn-color-alpha);
}

/* Glass - стеклянная кнопка */
.glass {
    background: var(--glass-bg);
    color: var(--foreground);
    border-color: var(--glass-border);
    backdrop-filter: var(--glass-blur);
}

.glass:hover {
    background: var(--btn-color-main);
    color: var(--btn-color-text-on-main);
    border-color: transparent;
}

/* Ghost - прозрачная кнопка */
.ghost {
    background: transparent;
    color: var(--btn-color-text-on-clear);
    border-color: transparent;
}

.ghost:hover {
    background: var(--btn-color-alpha);
}

/* Outline - кнопка с обводкой */
.outline {
    background: transparent;
    color: var(--btn-color-text-on-clear);
    border-color: var(--btn-color-main);
}

.outline:hover {
    background: var(--btn-color-main);
    color: var(--btn-color-text-on-main);
}

/* Soft - мягкая кнопка */
.soft {
    background: var(--btn-color-alpha);
    color: var(--btn-color-text-on-clear);
    border-color: transparent;
}

.soft:hover {
    background: color-mix(in srgb, var(--btn-color-alpha) 80%, black);
}

.surface {
    background: var(--surface);
    color: var(--btn-color-text-on-clear);
    border-color: var(--border);
}

.surface:hover {
    background: var(--btn-color-alpha);
    border-color: var(--btn-color-main);
}

/* ============================================= */
/* Размеры (sizes) */
/* ============================================= */

.xs {
    height: var(--size-btn-h-1);
    padding: 0 var(--space-2);
    font-size: var(--text-xs);
}

.sm {
    height: var(--size-btn-h-2);
    padding: 0 var(--space-3);
    font-size: var(--text-sm);
}

.md {
    height: var(--size-btn-h-3);
    padding: 0 var(--space-4);
    font-size: var(--text-base);
}

.lg {
    height: var(--size-btn-h-4);
    padding: 0 var(--space-6);
    font-size: var(--text-lg);
}

.xl,
.xxl {
    height: calc(var(--size-btn-h-4) * 1.25);
    padding: 0 var(--space-7);
    font-size: var(--text-xl);
}

.icon {
    height: var(--size-btn-h-3);
    width: var(--size-btn-h-3);
    padding: 0;
}
