/* CSS Variables for Premium Design System */
:root {
    /* =========================================== */
    /* Scale Factor (Telegram-style) */
    /* =========================================== */
    --scale-factor: 1;

    /* =========================================== */
    /* Spacing System (Scalable) */
    /* =========================================== */
    --space-05: calc(2px * var(--scale-factor));
    --space-1: calc(4px * var(--scale-factor));
    --space-2: calc(8px * var(--scale-factor));
    --space-3: calc(12px * var(--scale-factor));
    --space-4: calc(16px * var(--scale-factor));
    --space-5: calc(20px * var(--scale-factor));
    --space-6: calc(24px * var(--scale-factor));
    --space-8: calc(32px * var(--scale-factor));
    --space-10: calc(40px * var(--scale-factor));
    --space-12: calc(48px * var(--scale-factor));
    --space-16: calc(64px * var(--scale-factor));
    --space-17: calc(80px * var(--scale-factor));
    --space-18: calc(96px * var(--scale-factor));
    --space-24: calc(128px * var(--scale-factor));
    --space-32: calc(160px * var(--scale-factor));
    --space-48: calc(256px * var(--scale-factor));
    --space-64: calc(512px * var(--scale-factor));

    /* =========================================== */
    /* Typography System (Static for now, scalable later if needed) */
    /* =========================================== */
    --text-xs: 12px;
    --text-sm: 14px;
    --text-base: 16px;
    --text-lg: 18px;
    --text-xl: 20px;
    --text-2xl: 24px;
    --text-3xl: 30px;

    /* Шрифтовые начертания */
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;

    --line-height-none: 1;
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;

    /* Семейство шрифтов */
    --font-family:
        "Inter", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;

    /* Межбуквенный интервал */
    --letter-spacing-tight: -0.02em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.04em;

    /* =========================================== */
    /* Border Radius System */
    /* =========================================== */
    --kk-radius-sm: 4px;
    --kk-radius-md: 8px;
    --kk-radius-lg: 12px;
    --kk-radius-xl: 16px;
    --kk-radius-2xl: 20px;
    --kk-radius-full: 50%;
    --kk-radius-glass: 16px;

    /* =========================================== */
    /* Component Sizes (Scalable) */
    /* =========================================== */
    --size-icon-xs: calc(14px * var(--scale-factor));
    --size-icon-sm: calc(18px * var(--scale-factor));
    --size-icon-md: calc(24px * var(--scale-factor));
    --size-icon-lg: calc(32px * var(--scale-factor));

    --size-avatar-xs: calc(24px * var(--scale-factor));
    --size-avatar-sm: calc(32px * var(--scale-factor));
    --size-avatar-md: calc(40px * var(--scale-factor));
    --size-avatar-lg: calc(80px * var(--scale-factor));
    --size-avatar-xl: calc(120px * var(--scale-factor));
    --size-avatar-xxl: calc(160px * var(--scale-factor));

    --size-btn-h-1: calc(28px * var(--scale-factor));
    --size-btn-h-2: calc(32px * var(--scale-factor));
    --size-btn-h-3: calc(36px * var(--scale-factor));
    --size-btn-h-4: calc(44px * var(--scale-factor));

    --size-input-h: calc(36px * var(--scale-factor));
    --size-touch: calc(40px * var(--scale-factor));
    --size-nav-icon-bg: calc(50px * var(--scale-factor));
    --size-nav-item-min: 56px; /* Статичный min-width для навигации */
    --size-nav-item-max: 80px; /* Статичный max-width для навигации */
    --size-nav-icon-h: calc(32px * var(--scale-factor));

    --size-badge: calc(18px * var(--scale-factor));
    --size-badge-radius: calc(9px * var(--scale-factor));

    --size-loader-ring: calc(60px * var(--scale-factor));
    --size-online-dot: calc(6px * var(--scale-factor));
    --size-error-icon-lg: calc(64px * var(--scale-factor));
    --size-error-icon-sm: calc(32px * var(--scale-factor));
    --size-icon-box-lg: calc(80px * var(--scale-factor));

    /* =========================================== */
    /* Layout Sizes (Scalable) */
    /* =========================================== */
    --header-height: calc(72px * var(--scale-factor));
    --footer-height: calc(72px * var(--scale-factor));
    --panel-width: 360px; /* Sidebar width usually static */

    /* =========================================== */
    /* Container Max Widths (Static) */
    /* =========================================== */
    --max-w-auth: 450px;
    --max-w-dialog: 450px;
    --max-w-content: 600px;
    --max-w-profile: 480px;
    --max-w-toast: 380px;
    --max-w-empty-state: 300px;
    --max-w-card: 320px;
    --max-w-media-modal: 480px;
    /* Message Additions */
    --max-h-attachment-img: 250px;
    --min-w-audio-player: 250px;
    --max-h-textarea: 160px;

    /* Viewport Proportions */
    --vw-dialog: 90vw;
    --vh-dialog: 85vh;
    --min-w-dropdown: 180px;

    /* =========================================== */
    /* Opacity & Borders */
    /* =========================================== */
    --opacity-disabled: 0.5;
    --opacity-hover: 0.8;
    --opacity-muted: 0.7;
    --border-width-base: 1px;
    --border-width-focus: 2px;

    /* =========================================== */
    /* Z-Index Scale */
    /* =========================================== */
    --z-base: 0;
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-modal: 300;
    --z-toast: 400;
    --z-tooltip: 500;
    --z-overlay: 9999;

    /* =========================================== */
    /* Transitions */
    /* =========================================== */
    --transition-fast: 0.15s ease;
    --transition-base: 0.2s ease;
    --transition-slow: 0.3s ease;

    /* =========================================== */
    /* Shadows & Blurs */
    /* =========================================== */
    --glass-blur: blur(20px);
    --glass-blur-sm: blur(10px);
    --shadow-premium: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    --shadow-bubble: 0 4px 15px rgba(0, 0, 0, 0.1);
    --shadow-glow: 0 0 10px;

    /* =========================================== */
    /* Theme Previews */
    /* =========================================== */
    --preview-neon-gradient: linear-gradient(135deg, #00f0ff 0%, #bc13fe 100%);
    --preview-neon-glow: rgba(0, 240, 255, 0.2);
    --preview-emerald-gradient: linear-gradient(
        135deg,
        #d4af37 0%,
        #10b981 100%
    );
    --preview-emerald-glow: rgba(212, 175, 55, 0.2);

    /* =========================================== */
    /* Status Colors with Alpha Variants */
    /* =========================================== */
    --color-white: #ffffff;
    --color-black: #000000;
    --color-error-alpha: rgba(239, 68, 68, 0.5);
    --color-success-alpha: rgba(16, 185, 129, 0.5);
    --color-warning-alpha: rgba(245, 158, 11, 0.5);

    /* =========================================== */
    /* Gradients */
    /* =========================================== */
    --gradient-primary: linear-gradient(
        135deg,
        var(--accent-primary),
        var(--accent-secondary)
    );

    /* Default Mode (Neon Dark as fallback) */
    --bg-app: #020a12;
    --foreground: #e0f7fa;
    --muted: #708ca3;
    --muted-foreground: #a4b8c6;
    --accent-primary: #00f0ff;
    --accent-secondary: #00a8e8;

    --glass-bg: rgba(11, 25, 38, 0.85);
    --glass-border: rgba(0, 240, 255, 0.15);
    --glass-hover-bg: rgba(255, 255, 255, 0.05);

    --bubble-in: #1a2f45;
    --bubble-in-fg: #e0f7fa;
    --bubble-out: linear-gradient(135deg, #00f0ff, #00a8e8);
    --bubble-out-fg: #000000;

    /* Status Colors (Default) */
    --color-error: #ef4444;
    --color-success: #10b981;
    --color-warning: #f59e0b;
}

/* ============================================= */
/* --- THEME: NEON --- */
/* ============================================= */
[data-theme="neon"] {
    /* DARK MODE: Cosmic Cyberpunk с эффектом сверхновой */
    &[data-mode="dark"] {
        --bg-app: #010409; /* Deep Cosmic Void */
        --bg-cosmos:
            radial-gradient(
                circle at 50% 30%,
                rgba(255, 100, 255, 0.15) 0%,
                transparent 40%
            ),
            radial-gradient(
                circle at 80% 80%,
                rgba(0, 200, 255, 0.1) 0%,
                transparent 40%
            ),
            radial-gradient(
                1px 1px at 10% 10%,
                rgba(255, 255, 255, 0.9) 0%,
                transparent 100%
            ),
            radial-gradient(
                1px 1px at 20% 20%,
                rgba(255, 255, 255, 0.7) 0%,
                transparent 100%
            ),
            radial-gradient(
                ellipse at 20% 80%,
                rgba(60, 0, 100, 0.6) 0%,
                transparent 60%
            ),
            radial-gradient(
                ellipse at 80% 20%,
                rgba(0, 80, 160, 0.5) 0%,
                transparent 60%
            ),
            linear-gradient(180deg, #010409 0%, #030810 100%);
        --foreground: #e0f7fa;
        --muted: #708ca3;
        --accent-primary: #00f0ff; /* Electric Cyan */
        --accent-secondary: #00a8e8;
        --glass-bg: rgba(8, 18, 30, 0.6);
        --glass-border: rgba(0, 240, 255, 0.15);
        --glass-border-active: rgba(0, 240, 255, 0.6);
        --glass-shadow: 0 12px 40px rgba(0, 0, 0, 0.7);
        --glass-hover-bg: rgba(255, 255, 255, 0.08); /* Чуть ярче для Neon */
        --glow-soft: rgba(0, 240, 255, 0.1);
        --bubble-in: #1a2f45;
        --bubble-in-fg: #e0f7fa;
        --bubble-out: linear-gradient(135deg, #00f0ff 0%, #00a8e8 100%);
        --bubble-out-fg: #000000;

        /* Neon Status Colors */
        --color-error: #ff3366; /* Neon Red */
        --color-success: #00ff99; /* Neon Green */
        --color-warning: #ffd700; /* Neon Gold */
    }

    /* LIGHT MODE: Arctic Glass с неоновыми акцентами */
    &[data-mode="light"] {
        --bg-app: #e8ecef;
        --foreground: #4a6572;
        --muted: #819ca9;
        --accent-primary: #00d1c1; /* Teal */
        --accent-secondary: #00a8e8;
        --glass-bg: rgba(240, 244, 248, 0.8);
        --glass-border: rgba(0, 209, 193, 0.3);
        --glass-border-active: #00d1c1;
        --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        --glass-hover-bg: rgba(
            0,
            209,
            193,
            0.1
        ); /* Цветной hover для светлой */
        --glow-soft: rgba(0, 209, 193, 0.25);
        --glow: 0 0 10px rgba(0, 209, 193, 0.4);
        --bubble-in: #cde8e5;
        --bubble-in-fg: #4a6572;
        --bubble-out: linear-gradient(135deg, #00d1c1 0%, #00a8e8 100%);
        --bubble-out-fg: #ffffff;

        /* Light Neon Status Colors */
        --color-error: #e11d48;
        --color-success: #059669;
        --color-warning: #d97706;
    }
}

/* ============================================= */
/* --- THEME: EMERALD --- */
/* ============================================= */
[data-theme="emerald"] {
    /* DARK MODE: Forest Gold Luxury */
    &[data-mode="dark"] {
        --bg-app: #091c15;
        --bg-void: #020e08;
        --foreground: #f0f2f0;
        --muted: #a5b5ae;
        --accent-primary: #d4af37; /* Классическое золото */
        --accent-secondary: #10b981; /* Изумрудный */
        --glass-bg: rgba(21, 46, 37, 0.85);
        --glass-border: rgba(212, 175, 55, 0.5); /* Яркий золотой бордер */
        --glass-shadow: 0 12px 48px rgba(0, 0, 0, 0.8);
        --glow-soft: rgba(212, 175, 55, 0.2);
        --bubble-in: rgba(26, 54, 43, 0.8);
        --bubble-in-fg: #f0f2f0;
        --bubble-in-border: rgba(212, 175, 55, 0.5);
        --bubble-out: #0f5742;
        --bubble-out-fg: #f0f2f0;
        --bubble-out-border: #10b981;

        /* Золотые акценты */
        --gold-light: #ffe082;
        --gold-main: #d4af37;
        --gold-dark: #aa8c30;
        --text-gold: #e6c200;

        /* Emerald Dark Status Colors */
        --color-error: #f87171;
        --color-success: #34d399;
        --color-warning: #fbbf24;
    }

    /* LIGHT MODE: Mint Sage с бордерами */
    &[data-mode="light"] {
        --bg-app: rgba(240, 244, 248, 0.8);
        --foreground: #164e38;
        --muted: #416254;
        --accent-primary: #10b981; /* Изумрудный для активных */
        --accent-secondary: #2c6e55;
        --accent-light: #4ade80; /* Светло-зелёный */
        --glass-bg: rgba(0, 209, 193, 0.05); /* Активная карточка */
        --glass-border: #d1e3db;
        --glass-border-active: #10b981;
        --glass-shadow: 0 8px 32px rgba(0, 40, 20, 0.12);
        --glow-soft: rgba(16, 185, 129, 0.15);
        --bubble-in: rgb(205, 232, 229);
        --bubble-in-fg: #164e38;
        --bubble-in-border: #cfa570; /* Золотистый */
        --bubble-out: linear-gradient(
            135deg,
            rgb(0, 209, 193) 0%,
            rgb(0, 168, 232) 100%
        );
        --bubble-out-fg: #ffffff;
        --bubble-out-border: #b0c4de; /* Серебристый */

        /* Emerald Light Status Colors */
        --color-error: #dc2626;
        --color-success: #059669;
        --color-warning: #d97706;
    }
}

/* Global Reset & Body */
body {
    margin: 0;
    background: var(--bg-cosmos, var(--bg-app));
    background-attachment: fixed;
    color: var(--foreground);
    font-family: "Inter", -apple-system, system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    transition:
        background-color 0.5s ease,
        color 0.5s ease;
    overflow: hidden;
}

/* Radix Theme Overrides */
.rt-Theme {
    --cursor-default: default;
    --cursor-text: text;
    --cursor-pointer: pointer;
}

/* Premium UI Components */
.premium-button {
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid var(--glass-border);
    background: var(--glass-bg);
    color: var(--foreground);
    backdrop-filter: var(--glass-blur-sm);
}

.premium-button:hover {
    background: var(--accent-primary);
    color: var(--bubble-out-fg);
    box-shadow: 0 0 20px var(--accent-primary);
    transform: translateY(-1px);
}

.premium-button:active {
    transform: translateY(0);
}

/* Variant Overrides for Custom Button */
.variant-solid {
    background: var(--accent-primary);
    color: var(--bubble-out-fg);
    border: none;
}

.variant-glass {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
}

.variant-ghost {
    background: transparent;
    border: 1px solid transparent;
}

.variant-ghost:hover {
    background: var(--glass-hover-bg);
    color: var(--accent-primary);
}

/* Animations */
@keyframes pulse-glow {
    0% {
        box-shadow: 0 0 5px var(--accent-primary);
    }
    50% {
        box-shadow: 0 0 20px var(--accent-primary);
    }
    100% {
        box-shadow: 0 0 5px var(--accent-primary);
    }
}

.glow-active {
    animation: pulse-glow 2s infinite;
}

/* Scrollbar Style */
::-webkit-scrollbar {
    width: 6px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
    background: var(--accent-primary);
}
